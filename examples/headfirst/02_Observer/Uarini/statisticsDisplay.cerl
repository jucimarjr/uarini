-class(statisticsDisplay).
-implements([observer, displayElement]).
-export([new/1, update/3, display/0]).
-constructor([new/1]).

attributes.

MaxTemp;
MinTemp;
TempSum;
NumReadings;
WeatherData.

methods.

new(WeatherData) ->
	self::WeatherData = WeatherData,
	Temp = self::WeatherData,
	Temp::register_observer(self::WeatherData).
	
update(Temp, Humidity, Pressure) ->
	self::TempSum = self::TempSum + Temp,
	self::NumReadings = self::NumReadings + 1,
	
	Maximum = self::MaxTemp,
	Minimum = self::MinTemp,
	
	if
		(Temp > Maximum) ->
			self::MaxTemp = Temp;
		(Temp < Minimum) ->
			self::MinTemp = Temp
	end,
		
	display().
	
display() ->
	io:format("Avg/Max/Min temperature = ~p/~p/~p ~n", [(self::TempSum/self::NumReadings),
														self::MaxTemp,self::MinTemp]).
														